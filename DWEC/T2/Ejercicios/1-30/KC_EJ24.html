<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>KC_EJ24</title>
  </head>
  <body>
    <!--La siguiente código presenta una opción de solución mínima viable usando las entradas/salidas de JS por cliente: prompt y alert. Sin embargo, el mismo resutado puede ser alcanzado usando controles input, eventos y DOM, o JQuery, o un enfoque funcional. Utiliza con el que prefieras practicar. Si tienes dudas consulta a tu instructor de JS o a tu coach. 
  -->
    <script type="text/javascript">
      /*
			KC_EJ24
Modificar el programa KC_EJ23 para que muestre los resultados ordenados por la media, de forma descendente.

  		*/

      let nombre = "";
      let calificaciones = 0;
      let calificacion;
      let media = 0;
      let constante = 0;
      let mapa = new Map();
      let mapaOrdenado = new Map();
      let MayorMedia;
      let MayorNombre = "";

      while (nombre !== "terminar") {
        nombre = prompt("Dime un nombre");
        constante = 0;

        if (nombre === "terminar") {
          break;
        } else {
          while (constante < 3) {
            constante++;
            calificacion = parseFloat(prompt("Dime la calificación"));
            calificaciones = calificaciones + calificacion;
          }
          media = calificaciones / 3;
          mapa.set(nombre, media);
          calificaciones = 0;
        }
      }

      constante = 0;

      for (let i = 0; i < mapa.size - constante; i++) {
        for (let [n, m] of mapa) {
          if (m > MayorMedia) {
            MayorMedia = m;
            MayorNombre = n;
          }
        }
        mapaOrdenado.set(MayorNombre, MayorMedia);
        mapa.delete(MayorNombre);
        constante++;
        MayorMedia = 0;
      }

      for (let [n, m] of mapaOrdenado) {
        document.write("Nombre: " + n + " --> Media: " + m + "<br>");
      }
    </script>
  </body>
</html>
